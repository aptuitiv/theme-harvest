{# Set the column classes based on the number of columns #}
{% set count = columns|length %}
{% if count % 4 == 0 %}
    {% set class = 'col-1-1 col-1-2-sm col-1-4-md mb-2' %}
{% elseif count % 3 == 0 %}
    {% set class = 'col-1-1 col-1-3-md mb-3' %}
{% elseif count == 2 %}
    {% set class = 'col-1-1 col-1-2-sm mb-2' %}
{% elseif count > 4 %}
    {% set class = 'col-1-1 col-1-2-sm col-1-4-md mb-2' %}
{% elseif count == 1 %}
    {% set class = 'col-1-1 mb-2' %}
{% endif %}

<div class="grid g-4 mt-4 mb-2">
    {% for column in columns %}
        <div class="{{ class }}">
            {% if column.image.alt|length == 0 %}
                {% set column.image.alt = column.text %}
            {% endif %}
            {% set column.image.class = 'w-1-1' %}
            <a href="{{ column.link }}">{{ column.image.tag }}</a>
            <a href="{{ column.link }}" class="Button w-1-1">{{ column.text }}<i class="Icon Icon-right-dir"></i></a>
        </div>
    {% endfor %}
</div>
